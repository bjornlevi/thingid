<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Alþingi Overview</title>
    {% set share_image = url_for('static', filename='share_org.png', _external=True) %}
    <meta name="description" content="Dagleg yfirsýn yfir þingmál, þingmenn, nefndir og dagskrá Alþingis.">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Hvað er í gangi á þingi?">
    <meta property="og:description" content="Dagleg yfirsýn yfir þingmál, þingmenn, nefndir og dagskrá Alþingis.">
    <meta property="og:image" content="{{ share_image }}">
    <meta property="og:image:alt" content="Yfirlit yfir Alþingi: mál, nefndir og þingmenn.">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="{{ share_image }}">
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <header class="site-header">
        <div class="brand">
            <div class="dot"></div>
            <div>
                <div class="eyebrow">Löggjafarþing {{ current_lthing or 'núverandi' }}</div>
                <div class="title">Hvað er í gangi á þingi?</div>
            </div>
        </div>
        <nav>
            <a href="{{ url_for('main.index', **session_params) }}">Þingmál</a>
            <a href="{{ url_for('main.members', **session_params) }}">Þingmenn</a>
            <a href="{{ url_for('main.speeches', **session_params) }}">Þingræður</a>
            <a href="{{ url_for('main.questions', **session_params) }}">Fyrirspurnir</a>
            <a href="{{ url_for('main.committees', **session_params) }}">Nefndir</a>
            <a href="{{ url_for('main.agenda', **session_params) }}">Dagskrá</a>
        </nav>
        {% if sessions %}
            <div class="session-select">
                <label for="session-select">Löggjafarþing</label>
                <select id="session-select">
                    {% for s in sessions %}
                        <option value="{{ s.number }}" {% if selected_lthing == s.number %}selected{% endif %}>
                            {{ s.number }}{% if s.period %} · {{ s.period }}{% endif %}
                        </option>
                    {% endfor %}
                </select>
            </div>
        {% endif %}
    </header>
    <main>
        {% block content %}{% endblock %}
    </main>
    {% block scripts %}{% endblock %}
    {% if sessions %}
    <script>
      (function () {
        var select = document.getElementById("session-select");
        if (!select) return;
        select.addEventListener("change", function () {
          var url = new URL(window.location.href);
          if (select.value) {
            url.searchParams.set("lthing", select.value);
          } else {
            url.searchParams.delete("lthing");
          }
          window.location.href = url.toString();
        });
      })();
    </script>
    {% endif %}
</body>
</html>
